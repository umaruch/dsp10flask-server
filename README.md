# NagAudio Server Code
> Теория - это когда вы знаете все, но ничего не работает. Практика - это когда все работает, но никто не знает почему. В этом проекте мы совместили теорию и практику - ничего не работает и никто не знает почему.@Неизвестный мудрец

### Оглавление
1. [Установка](#Установка)
2. [Дорожная карта](#Дорожная-карта)
3. [API сервера для разработчиков](#API-сервера)

### Установка

Для работы требуются установленные Nginx, Python>3.4, Node.js>8

1)Клонировать репозиторий
```
git clone https://github.com/nag-audio/dsp-10-server.git
```
2)Зайти в папку с проектом и скачать необходимые модули
```
pip install -r req.txt
npm install
```
3)Обновить все пути в файле nginx.conf
5)Установить глобально gunicorn для Python и forever для node.js
6)Добавить ссылку на nginx.conf в sites-enabled
```
sudo ln -s путь к файлу nginx.conf /etc/nginx/sites-enabled/
```
7)Запуск демонов серверов управления и уведомлений
```
gunicorn --bind 0.0.0.0:5000 wsgi:app --daemon
forever start index.js
```
8)Выключение серверов
```
pkill gunicorn
pkill node
```

### Дорожная карта

:white_check_mark: - Сделано и протестировано

:radioactive: - Сделано, но не тестировалось

:x: - Не сделано

[Файл дорожной карты](todo.md)

### API сервера
**Предназначено для Web клиента и сторонних приложений**

------------

Базовый url
```
http://{host}/api
```

Сервер возвращает код 200 если команда успешно выполнилась и есть возвращаемый контент. 

204 если контента нет. 400 при неправильном запросе и 500 при внутренних ошибках

[Управление плеером](/api-help/player.md)

[Управление плейлистами](/api-help/playlists.md)

[Управление файлами](/api-help/files.md)

[Настройки](/api-help/settings.md)
